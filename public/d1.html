<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Suspicious Activity Report</title>
    
    <!-- Tailwind CSS (CDN para manter o design sem build steps) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Configurações de Animação do Tailwind -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    animation: {
                        'pulse': 'pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'ping': 'ping 1s cubic-bezier(0, 0, 0.2, 1) infinite',
                        'spin': 'spin 1s linear infinite',
                    }
                }
            }
        }
    </script>

    <!-- ======================================================= -->
    <!-- SCRIPT MONETIZZE (Header) -->
    <!-- ======================================================= -->
    <script type="text/javascript" src="https://app.monetizze.com.br/upsell_incorporado.php"></script>

    <style>
        /* Estilos adicionais para o iframe da Monetizze se ajustar */
        .iframeUpsell {
            width: 100%;
            border: none;
            min-height: 400px; /* Ajuste conforme necessário */
        }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
    </style>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col">

    <!-- Faixa de Aviso de Topo -->
    <div class="bg-red-600 text-center py-3 px-4 sticky top-0 z-50 shadow-md">
        <p class="text-sm md:text-base font-bold text-white uppercase tracking-wide animate-pulse">
            ⚠️ WAIT! DO NOT CLOSE THIS PAGE
        </p>
    </div>

    <div class="flex-grow flex flex-col items-center justify-start px-4 py-8">
        <main class="w-full max-w-md mx-auto space-y-6">

            <!-- Cabeçalho de Oferta -->
            <div class="text-center space-y-2">
                <h1 class="text-3xl md:text-4xl font-extrabold text-gray-900 leading-tight">
                    Wait! We have a <br/>
                    <span class="text-green-600">Special Offer</span> for you.
                </h1>
                <p class="text-gray-600">
                    We understand that the price might be an issue. Because the report is already generated, we don't want to delete it.
                </p>
                <div class="inline-block bg-yellow-100 border border-yellow-400 text-yellow-800 px-4 py-2 rounded-lg font-bold text-lg mt-2">
                    GET 50% OFF RIGHT NOW
                </div>
            </div>

            <!-- Container Principal do Relatório -->
            <div class="bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden">

                <!-- Seção 1: Keywords Suspeitas -->
                <div class="p-5 border-b border-gray-100">
                    <h2 class="text-lg font-bold text-gray-800 mb-1">Suspicious Keywords</h2>
                    <p class="text-sm text-gray-500 mb-4">
                        The system scanned <span class="font-semibold text-red-500">4,327 messages</span> and identified several keywords.
                    </p>
                    
                    <!-- Lista de Palavras (Gerada via JS abaixo ou estática) -->
                    <div class="space-y-2" id="keywords-list">
                        <!-- Itens inseridos via Javascript para manter o código limpo, mas são HTML puro -->
                    </div>
                </div>

                <!-- Seção 2: Localização Suspeita -->
                <div class="p-5 border-b border-gray-100 bg-gray-50/50">
                    <h2 class="text-lg font-bold text-gray-800 mb-1">Suspicious Location</h2>
                    <p class="text-sm text-gray-500 mb-4">
                        The device location was tracked. Check below:
                    </p>

                    <!-- Loading State (Inicialmente visível) -->
                    <div id="map-loader" class="h-64 w-full bg-gray-200 rounded-lg flex items-center justify-center">
                        <!-- Icone Loader -->
                        <svg class="h-8 w-8 text-gray-400 animate-spin" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                        </svg>
                    </div>

                    <!-- Mapa Real (Inicialmente escondido) -->
                    <div id="map-container" class="relative h-64 md:h-80 w-full rounded-lg overflow-hidden shadow-inner border border-gray-200 hidden">
                        <iframe id="google-map-iframe" class="absolute top-0 left-0 w-full h-full border-0" loading="lazy" allowFullScreen src=""></iframe>
                        <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"></div>
                        <div class="absolute inset-0 p-4 flex flex-col justify-between pointer-events-none">
                            <div class="flex justify-between items-start">
                                <span class="bg-gray-800/80 text-white text-xs font-bold py-1 px-3 rounded">GPS TRACKING</span>
                                <span class="bg-red-600 text-white text-xs font-bold py-1 px-3 rounded animate-pulse">LIVE</span>
                            </div>
                            <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2">
                                <div class="absolute h-16 w-16 rounded-full bg-red-600/30 animate-ping"></div>
                                <div class="relative flex items-center justify-center h-10 w-10 rounded-full bg-red-600 border-2 border-white shadow-xl">
                                    <!-- MapPin Icon -->
                                    <svg class="h-5 w-5 text-white" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg>
                                </div>
                            </div>
                            <div class="text-white">
                                <div class="flex items-center gap-2 font-bold text-red-400">
                                    <!-- Alert Triangle Icon -->
                                    <svg class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>
                                    <span>SUSPICIOUS ACTIVITY</span>
                                </div>
                                <p class="text-xs md:text-sm text-gray-200">Location: <span id="location-text">Loading...</span></p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Seção 3: Card de Desbloqueio (Checkout) -->
                <div class="p-6 bg-white relative">
                    <div class="text-center mb-6">
                        <div class="mx-auto w-14 h-14 rounded-xl bg-gradient-to-br from-green-400 to-teal-500 flex items-center justify-center mb-3 shadow-lg transform -rotate-3">
                            <!-- LockOpen Icon -->
                            <svg class="text-white h-7 w-7" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 9.9-1"></path></svg>
                        </div>
                        <h2 class="text-xl font-black text-gray-900 uppercase">Unlock Complete Report</h2>
                        <p class="text-gray-500 text-sm mt-1">
                            Get instant access to the full report including deleted messages and photos.
                        </p>
                    </div>

                    <!-- Timer de Urgência -->
                    <div class="bg-red-50 border border-red-100 text-red-800 p-4 rounded-xl mb-6 text-center">
                        <div class="flex items-center justify-center gap-2 mb-1">
                            <!-- Alert Icon -->
                            <svg class="h-4 w-4 text-red-600" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>
                            <span class="text-xs font-bold tracking-wider text-red-600 uppercase">Report expires in:</span>
                        </div>
                        <div class="text-4xl font-mono font-bold text-red-600 tracking-tight" id="timer">
                            04:46
                        </div>
                        <p class="text-[10px] text-red-500/80 mt-2 leading-tight px-4">
                            After this time, the data will be permanently deleted from our servers for privacy reasons.
                        </p>
                    </div>
                    
                    <!-- ======================================================= -->
                    <!-- WIDGET MONETIZZE (Checkout) -->
                    <!-- ======================================================= -->
                    <div class="w-full bg-white rounded-lg">
                         <iframe class="iframeUpsell" data-chave="9a0d3375e0beb391c497e1e2fc3d5ea8"></iframe>
                    </div>

                </div>

            </div>
            
            <p class="text-center text-xs text-gray-400 pb-8">
                Secure 256-bit Encryption • 100% Anonymous • Satisfaction Guaranteed
            </p>

        </main>
    </div>

    <!-- Scripts de Funcionalidade da Página -->
    <script>
        // 1. Preencher a lista de Keywords (Igual ao componente React)
        const suspiciousKeywords = [
            { word: "Gorgeous", count: 26 },
            { word: "Love", count: 22 },
            { word: "Secret", count: 19 },
            { word: "Hidden", count: 17 },
            { word: "Don't tell", count: 15 },
            { word: "Miss you", count: 12 },
            { word: "Thinking of you", count: 12 },
            { word: "Can't stop thinking", count: 10 },
            { word: "Wish you were here", count: 10 },
            { word: "Baby", count: 10 },
            { word: "Babe", count: 8 },
            { word: "Honey", count: 8 },
            { word: "Darling", count: 7 },
            { word: "Sweetie", count: 7 },
            { word: "Sexy", count: 6 },
            { word: "Delete this", count: 3 }
        ];

        const listContainer = document.getElementById('keywords-list');
        suspiciousKeywords.forEach(item => {
            const row = document.createElement('div');
            row.className = 'flex items-center justify-between py-2 border-b border-gray-50 last:border-0';
            row.innerHTML = `
                <span class="text-base font-medium text-gray-700">"${item.word}"</span>
                <div class="flex items-center justify-center w-6 h-6 bg-green-500 rounded-full text-white text-xs font-bold">
                    ${item.count}
                </div>
            `;
            listContainer.appendChild(row);
        });

        // 2. Timer Regressivo
        let timeInSeconds = 4 * 60 + 46; // 04:46
        const timerElement = document.getElementById('timer');

        function updateTimer() {
            const minutes = Math.floor(timeInSeconds / 60);
            const seconds = timeInSeconds % 60;
            
            // Formatação 00:00
            const displayMin = minutes.toString().padStart(2, '0');
            const displaySec = seconds.toString().padStart(2, '0');
            
            timerElement.textContent = `${displayMin}:${displaySec}`;

            if (timeInSeconds > 0) {
                timeInSeconds--;
            }
        }
        setInterval(updateTimer, 1000);

        // 3. Localização (Simulando o Fetch do React)
        const defaultLocation = { lat: 38.7219, lng: -9.1398, city: "Lisbon", country: "Portugal" };
        
        // Tenta pegar a localização aproximada via API pública gratuita (fallback para o default se falhar)
        async function fetchLocation() {
            try {
                // Pequeno delay para simular o "loading"
                await new Promise(r => setTimeout(r, 1500));
                
                // Usando ipapi.co (gratuito para front-end)
                const response = await fetch('https://ipapi.co/json/');
                const data = await response.json();
                
                if (data.latitude && data.longitude) {
                    updateMap(data.latitude, data.longitude, data.city, data.country_name);
                } else {
                    throw new Error("Location not found");
                }
            } catch (e) {
                console.log("Using default location");
                updateMap(defaultLocation.lat, defaultLocation.lng, defaultLocation.city, defaultLocation.country);
            }
        }

        function updateMap(lat, lng, city, country) {
            const mapUrl = `https://maps.google.com/maps?q=${lat},${lng}&z=13&output=embed`;
            
            document.getElementById('map-loader').classList.add('hidden');
            document.getElementById('map-container').classList.remove('hidden');
            
            document.getElementById('google-map-iframe').src = mapUrl;
            document.getElementById('location-text').textContent = `${city}, ${country}`;
        }

        // Iniciar
        fetchLocation();

    </script>
</body>
</html>
